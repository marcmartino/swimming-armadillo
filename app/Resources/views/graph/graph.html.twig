{% extends 'layout.html.twig' %}
{% block body %}
    <div class="center row">

        <div class="large-12 columns">

            <div class="panel callout radius">
                <p>Select the data you would like to analyze by clicking on the items below</p>
            </div>

            <p>In order to get the most out of Swimming Armadillo, authorize as many wearables as possible here:
                <a href="{{ path('providers') }}">Authorize Providers</a>
            </p>
        </div>

        <div class="large-12 columns" id="measurementTypeList">
            {% for measurement_type in measurement_types %}
                <a class="button expand secondary" data-slug="{{ measurement_type.slug }}">
                    {{ measurement_type.name }}
                </a>
            {% endfor %}
            <button class="expand" id="getGraphs">Go</button>
        </div>
    </div>
    <script>
        $("#measurementTypeList").on("click", "a", function() {
            $(this).toggleClass('success');
        });
        $("#getGraphs").on("click", function() {
            var queryString = '?measure=';
            $.each($("#measurementTypeList a.success"), function(index) {
                queryString = queryString + $(this).data("slug");
                if (index !== $("#measurementTypeList a.success").length - 1) {
                    queryString = queryString + '-';
                }
            });
            if (queryString !== '?measure=') {
                location.replace("{{ path('graph_measurement_type') }}" + queryString);
            }
        });
    </script>
{% endblock %}